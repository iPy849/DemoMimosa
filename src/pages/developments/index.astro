---
import PageLayout from '../../layouts/PageLayout.astro';
import DevelopmentCard from '../../components/DevelopmentCard.astro';
import { t } from '../../i18n/utils';
import { getCollection } from 'astro:content';

const esDevelopments = await getCollection('developments', ({ data }) => data.lang === 'es');
---

<PageLayout
  title="Desarrollos Exclusivos | MIMOSA Real Estate"
  description="Explora nuestro portafolio exclusivo de desarrollos inmobiliarios de lujo en Bacalar, Tulum, Merida, Punta Mita, Cancun y Los Cabos."
  keywords="desarrollos, portafolio, bacalar, tulum, merida, cancun, punta mita, los cabos, lujo, inversion inmobiliaria"
>
  <section class="pt-32 pb-24 px-6">
    <div class="max-w-7xl mx-auto">
      <div class="text-center mb-16 reveal" data-reveal="fade">
        <p class="text-primary text-sm tracking-[0.3em] uppercase mb-2 font-body" data-t="featured.subtitle">{t("featured.subtitle")}</p>
        <h1 class="text-4xl md:text-5xl font-headline font-bold text-foreground" data-t="nav.developments">{t("nav.developments")}</h1>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 reveal-stagger">
        {esDevelopments.map((dev) => (
          <div class="reveal"><DevelopmentCard
            id={dev.data.slug}
            title={dev.data.title}
            location={dev.data.location}
            image={dev.data.image}
            description={dev.data.shortDescription}
          /></div>
        ))}
      </div>
    </div>
  </section>
</PageLayout>
