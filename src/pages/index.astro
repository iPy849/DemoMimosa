---
import {Image} from 'astro:assets';
import PageLayout from '../layouts/PageLayout.astro';
import FeatureCard from '../components/FeatureCard.astro';
import Icon from '../components/icons/Icon.astro';
import {images} from '../data/images';
import {getCollection} from 'astro:content';
import SocialLinks from "@/components/SocialLinks.astro";

let featuredDevelopments: any[] = [];
try {
    featuredDevelopments = await getCollection('developments', ({data}) => data.featured === true);
} catch (e) {
    console.error('[v0] Content collection error:', e);
}
---

<PageLayout
        title="MIMOSA Developments | Boutique Real Estate en el Caribe Mexicano"
        description="Descubre una coleccion curada de los desarrollos mas exclusivos del Caribe mexicano"
        keywords="real estate, bienes raices, lujo, caribe mexicano, bacalar, tulum, merida, desarrollos, inversion, propiedades exclusivas"
        navTransparent={false}
>
    <!-- Hero Section -->
    <section class="relative h-[90vh] flex items-end justify-center overflow-hidden">
        <div class="absolute inset-0 z-0">
            <Image src={images.hero.main} alt="Mimosa development" class="w-full h-full object-cover lg:object-bottom"
                   width={1920} height={1080}/>
            <div class="absolute inset-0 bg-black/15"></div>
        </div>
        <div class="relative z-20 text-center w-full max-w-2xl mx-auto px-6 pb-8 md:pb-14 fade-in">
            <div class="flex flex-col flex-wrap gap-4 items-center">
                <a href="#about-section" class="fade-in">
                    <Icon name="chevron-down"
                          class="rounded-full w-8 text-primary bg-primary-foreground/70 drop-shadow-2xl hover:scale-110"/>
                </a>
            </div>
        </div>
    </section>

    <!-- Hero CTA -->
    <section class="bg-card p-4">
        <div class="max-w-7xl mx-auto flex justify-center gap-2 md:gap-4 reveal" data-reveal="bottom">
            <a href="/developments"
               class="basis-1/2 sm:basis-1/3   bg-primary text-primary-foreground p-2 sm:p-4 text-xs sm:text-sm tracking-tighter md:tracking-[0.2em] font-bold font-body hover:bg-primary hover:shadow-lg transition-all duration-300 flex items-center justify-center gap-2">
                <Icon name="home" class="w-6 h-6"/>
                <span>VER DESARROLLOS</span>
            </a>
            <a href="/contact"
               class="basis-1/2 sm:basis-1/3  bg-transparent text-primary p-2 sm:p-4 text-xs sm:text-sm tracking-tighter md:tracking-[0.2em] font-bold  hover:shadow-lg transition-all duration-300 flex items-center justify-center gap-2 backdrop-blur-sm outline outline-primary">
                <Icon name="message-circle" class="w-6 h-6"/>
                <span>CONTACTAR AGENTE</span>
            </a>
        </div>
    </section>

    <!-- About Section -->
    <section class="py-8 md:py-12 bg-card" id="about-section">
        <div class="max-w-7xl mx-auto px-6">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
                <div class="reveal" data-reveal="right">
                    <p class="text-primary text-sm tracking-[0.3em] uppercase mb-2 font-body">Nuestra Esencia</p>
                    <h2 class="text-4xl font-headline font-bold mb-6 text-foreground">Redefiniendo el Lujo
                        Inmobiliario</h2>
                    <blockquote
                            class="text-xl text-muted-foreground italic leading-relaxed mb-8 font-body border-l-2 border-primary pl-6">
                        "Cada desarrollo de Mimosa refleja un firme compromiso con la excelencia. Proyectos pensados
                        para cautivar los sentidos y elevar el estilo de vida"
                    </blockquote>
                    <div class="grid grid-cols-1 sm:grid-cols-3 gap-2 mb-8">
                        <FeatureCard icon="star" title="Exclusividad"
                                     desc="Desarrollo de residencias íntimas concebidas como oasis privados para un estilo de vida sereno."
                                     centered/>
                        <FeatureCard icon="shield" title="Atencion Boutique"
                                     desc="Cada cliente recibe un trato personalizado, confidencial y sumamente exclusivo."
                                     centered/>
                        <FeatureCard icon="diamond" title="Ubicacion Premium"
                                     desc="Solo operamos en los puntos geográficos mas estratégicos y de mayor plusvalía proyectada."
                                     centered/>
                    </div>
                    <a href="/about"
                       class="inline-block bg-primary text-primary-foreground px-8 py-3 text-xs tracking-[0.2em] font-bold font-body hover:bg-primary/90 transition-colors">CONOCE
                        NUESTRA HISTORIA</a>
                </div>
                <div class="relative aspect-4/3 rounded-lg overflow-hidden reveal" data-reveal="left">
                    <Image src={images.about.interior} alt="Luxury property interior" class="w-full h-full object-cover"
                           width={800} height={600} loading="lazy"/>
                </div>
            </div>
        </div>
    </section>

    <!-- Static gallery -->
    <section class="py-12 px-6 hidden md:block">
        <div class="max-w-7xl mx-auto grid grid-cols-2 grid-rows-2 gap-4">
            <div class="relative aspect-4/3 rounded-lg overflow-hidden reveal" data-reveal="left">
                <Image src={images.cuatroBacalar.renders.vistaAerea} alt="Luxury property interior"
                       class="w-full h-full object-cover"
                       width={800} height={600} loading="lazy"/>
            </div>
            <div class="relative aspect-4/3 rounded-lg overflow-hidden reveal" data-reveal="left">
                <Image src={images.cuatroBacalar.renders.alberca2} alt="Luxury property interior"
                       class="w-full h-full object-cover"
                       width={800} height={600} loading="lazy"/>
            </div>
            <div class="relative aspect-4/3 rounded-lg overflow-hidden reveal" data-reveal="left">
                <Image src={images.cuatroBacalar.renders.fachada} alt="Luxury property interior"
                       class="w-full h-full object-cover"
                       width={800} height={600} loading="lazy"/>
            </div>
            <div class="relative aspect-4/3 rounded-lg overflow-hidden reveal" data-reveal="left">
                <Image src={images.cuatroBacalar.renders.alberca1} alt="Luxury property interior"
                       class="w-full h-full object-cover"
                       width={800} height={600} loading="lazy"/>
            </div>

        </div>
    </section>

    <!-- Socials -->
    <section class="py-8 px-6 bg-card/50">
        <div class="max-w-7xl mx-auto flex justify-center reveal" data-reveal="fade">
            <SocialLinks variant="solid" size="w-18"/>
        </div>
    </section>
</PageLayout>
